<script setup lang="ts">
import { mockProducts } from '~/data/mockProducts'
import ProductCard from '~/components/ProductCard.vue'
import { ref, computed } from 'vue'

const selectedType = ref('all')

const filteredProducts = computed(() => {
  return mockProducts.filter(product => {
    const matchesType = selectedType.value === 'all' || product.product_type.includes(selectedType.value as any)
    return matchesType
  })
})

const productTypes = ['all', 'saas', 'chrome_extension', 'mobile_app', 'web_app', 'template']
</script>

<template>
  <div>
    
    <main>
      <div class="relative overflow-hidden">
        <!-- Animated background -->
        <div class="absolute inset-0 overflow-hidden pointer-events-none">
          <!-- Ink Wash Effects -->
          <div class="absolute -top-40 -right-40 w-[50rem] h-[50rem] bg-gradient-radial from-gray-200 to-transparent opacity-60 dark:from-gray-800 dark:to-transparent filter blur-3xl"></div>
          <div class="absolute top-20 left-0 w-[40rem] h-[40rem] bg-gradient-radial from-stone-200 to-transparent opacity-40 dark:from-stone-800 dark:to-transparent filter blur-3xl"></div>
          <div class="absolute bottom-0 right-20 w-[60rem] h-[40rem] bg-gradient-radial from-zinc-200 to-transparent opacity-30 dark:from-zinc-800 dark:to-transparent filter blur-3xl"></div>
        </div>

        <div class="relative container mx-auto px-6 py-24">
          <div class="text-center max-w-4xl mx-auto">
             <div class="inline-block mb-6">
                <span class="px-4 py-1.5 rounded-full border border-red-800/30 bg-red-50 text-red-900 dark:bg-red-900/20 dark:border-red-500/30 dark:text-red-300 text-sm font-serif tracking-wide backdrop-blur-sm">
                  ğŸš€ ç‹¬ç«‹å¼€å‘è€…åˆåˆ›å¯åŠ¨å°
                </span>
             </div>

             <h1 class="text-6xl md:text-7xl font-serif font-bold mb-6 text-gray-900 dark:text-gray-100 leading-tight tracking-tight">
               å‘ç°ç‚¹å­ï¼Œè½»æ¾æ„å»º <br>å¿«é€Ÿä¸Šçº¿!
             </h1>

             <p class="text-xl text-gray-600 dark:text-stone-400 mb-12 max-w-2xl mx-auto leading-relaxed font-light">
               ä»ç»è¿‡å¸‚åœºéªŒè¯ï¼Œé«˜å¯ä¿¡åº¦çš„è“æµ·æƒ…æŠ¥ä¸­è·å–ç‚¹å­ï¼Œé…åˆåˆåˆ›SaaSæ¨¡æ¿ï¼Œè·³è¿‡ 80% çš„åŸºç¡€æ­å»ºå‘ï¼Œç›´æ¥è¿›å…¥æ ¸å¿ƒä¸šåŠ¡ç«äº‰è¯•é”™ã€‚
             </p>

             <!-- CTA Button -->
             <div class="mb-12">
               <NuxtLink to="/pricing" class="group inline-flex items-center justify-center px-8 py-3 text-lg font-serif text-white transition-all duration-300 bg-red-900 rounded-lg hover:bg-red-800 shadow-lg hover:shadow-red-900/30 transform hover:-translate-y-0.5">
                 ç«‹å³å¼€å§‹
                 <Icon name="lucide:arrow-right" class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" />
               </NuxtLink>
             </div>
             
             <!-- Filter Tags -->
             <div class="flex flex-wrap justify-center gap-3 mb-16">
                <button 
                  v-for="type in productTypes" 
                  :key="type"
                  @click="selectedType = type"
                  :class="[
                    'px-6 py-2 rounded-lg text-sm transition-all duration-300 font-serif',
                    selectedType === type 
                      ? 'bg-gray-900 text-white shadow-md dark:bg-gray-100 dark:text-gray-900' 
                      : 'bg-white border border-gray-200 text-gray-600 hover:border-gray-400 hover:text-gray-900 dark:bg-white/5 dark:border-white/10 dark:text-stone-400 dark:hover:text-stone-200'
                  ]"
                >
                  {{ type === 'all' ? 'å…¨éƒ¨' : type.replace('_', ' ') }}
                </button>
             </div>

             <!-- Stats -->
               <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-12 max-w-4xl mx-auto">
                <div class="glass-card p-6 text-center group hover:-translate-y-1 transition-transform duration-300">
                  <div class="text-3xl font-serif font-bold text-gray-900 dark:text-white mb-2">
                    500+
                  </div>
                  <div class="text-gray-500 dark:text-stone-500 text-sm font-light">äº§å“æ”¶å½•</div>
                </div>

                <div class="glass-card p-6 text-center group hover:-translate-y-1 transition-transform duration-300">
                  <div class="text-3xl font-serif font-bold text-gray-900 dark:text-white mb-2">
                    $2M+
                  </div>
                  <div class="text-gray-500 dark:text-stone-500 text-sm font-light">æœˆæ”¶å…¥æ€»å’Œ</div>
                </div>

                <div class="glass-card p-6 text-center group hover:-translate-y-1 transition-transform duration-300">
                  <div class="text-3xl font-serif font-bold text-gray-900 dark:text-white mb-2">
                    50+
                  </div>
                  <div class="text-gray-500 dark:text-stone-500 text-sm font-light">æŠ€æœ¯æ ˆ</div>
                </div>

                <div class="glass-card p-6 text-center group hover:-translate-y-1 transition-transform duration-300">
                   <div class="text-3xl font-serif font-bold text-gray-900 dark:text-white mb-2">
                    100%
                  </div>
                  <div class="text-gray-500 dark:text-stone-500 text-sm font-light">çœŸå®æ•°æ®</div>
                </div>
              </div>
          </div>
        </div>
      </div>

      <!-- Product Grid -->
      <section class="py-12 bg-gray-50/50 dark:bg-black/20">
        <div class="container mx-auto px-6">
           <div class="mb-12 flex items-center justify-between">
              <div>
                <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">çƒ­é—¨çº¿ç´¢</h2>
                <p class="text-gray-500 dark:text-slate-400">æ¢ç´¢æœ€æˆåŠŸçš„ç‹¬ç«‹å¼€å‘è€…äº§å“</p>
              </div>
              <div class="text-sm text-gray-500 dark:text-gray-400 bg-white/50 dark:bg-white/5 px-4 py-2 rounded-lg border border-gray-200 dark:border-white/10">
                æ˜¾ç¤º {{ filteredProducts.length }} æ¡çº¿ç´¢
              </div>
           </div>
           
           <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
              <ProductCard 
                v-for="product in filteredProducts" 
                :key="product.id" 
                :product="product" 
              />
           </div>
           
           <div v-if="filteredProducts.length === 0" class="py-20 text-center">
              <p class="text-gray-500 text-lg">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„çº¿ç´¢ã€‚</p>
           </div>
        </div>
      </section>
      
      <!-- Why Choose Us -->
      <!-- Why Choose Us -->
      <section class="py-24 relative">
        <div class="container mx-auto px-6">
          <div class="text-center mb-16">
            <h2 class="text-4xl font-serif font-bold text-gray-900 dark:text-white mb-4">ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬</h2>
            <p class="text-gray-500 dark:text-stone-400 text-lg font-light">æ·±åº¦çº¿ç´¢ï¼ŒåŠ©åŠ›æ‚¨çš„ç‹¬ç«‹å¼€å‘ä¹‹è·¯</p>
          </div>

          <div class="grid md:grid-cols-3 gap-8">
            <div class="glass-card p-8 group hover:-translate-y-1 transition-all duration-300">
              <div class="w-12 h-12 bg-gray-900 dark:bg-white rounded-md flex items-center justify-center mb-6">
                <Icon name="lucide:dollar-sign" class="w-6 h-6 text-white dark:text-gray-900" />
              </div>
              <h3 class="text-xl font-serif font-bold text-gray-900 dark:text-white mb-3">çº¿ç´¢äº§å“æ•°æ®</h3>
              <p class="text-gray-600 dark:text-stone-400 font-light">è·å–å…·æœ‰å¯ä¿¡åº¦è¯„çº§çš„äº§å“è¥æ”¶æ•°æ®ï¼Œäº†è§£å¸‚åœºçœŸå®æƒ…å†µ</p>
            </div>

            <div class="glass-card p-8 group hover:-translate-y-1 transition-all duration-300">
              <div class="w-12 h-12 bg-red-800 rounded-md flex items-center justify-center mb-6">
                <Icon name="lucide:trending-up" class="w-6 h-6 text-white" />
              </div>
              <h3 class="text-xl font-serif font-bold text-gray-900 dark:text-white mb-3">å¢é•¿æ¸ é“åˆ†æ</h3>
              <p class="text-gray-600 dark:text-stone-400 font-light">æ·±å…¥äº†è§£æˆåŠŸäº§å“çš„å¢é•¿ç­–ç•¥å’Œä¸»è¦è·å®¢æ¸ é“</p>
            </div>

            <div class="glass-card p-8 group hover:-translate-y-1 transition-all duration-300">
              <div class="w-12 h-12 bg-gray-900 dark:bg-white rounded-md flex items-center justify-center mb-6">
                <Icon name="lucide:code-2" class="w-6 h-6 text-white dark:text-gray-900" />
              </div>
              <h3 class="text-xl font-serif font-bold text-gray-900 dark:text-white mb-3">æŠ€æœ¯æ ˆè§£æ</h3>
              <p class="text-gray-600 dark:text-stone-400 font-light">äº†è§£æˆåŠŸäº§å“èƒŒåçš„æŠ€æœ¯é€‰å‹ï¼Œä¸ºæ‚¨çš„é¡¹ç›®æä¾›å‚è€ƒ</p>
            </div>
          </div>
        </div>
      </section>

    </main>

  </div>
</template>

<style scoped>
.glass-card {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(0, 0, 0, 0.05);
  border-radius: 0.5rem; /* More boxy for ink style */
  transition: all 0.3s ease;
}

.dark .glass-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.glass-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.05);
  border-color: rgba(0, 0, 0, 0.1);
}

.dark .glass-card:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.3);
}
</style>
